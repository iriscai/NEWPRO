{
	"configuration":{},
	"connectionName":"MRS_Spark_Agent",
	"content":"-- ******************************************************************** --\n-- author: jh_caiyi\n-- create time: 2025-07-15\n-- descr: 检化验系统专线-留样数据明细\n-- tis_processoverview_sampleretention\n-- ******************************************************************** --\n-- DROP TABLE IF EXISTS dwi_qlt.dwi_qlt_lz_tis_processoverview_sampleretention;\n-- CREATE TABLE\n--     dwi_qlt.dwi_qlt_lz_tis_processoverview_sampleretention (\n-- \t\tsmp_no varchar(60) COMMENT '样品编号',\n-- \t\theat_no varchar(24) COMMENT '炉次号',\n-- \t\tinspempl_no varchar(6) COMMENT '检验站编号',\n-- \t\tmanu_no varchar(60) COMMENT '自编号',\n-- \t\tsub_mat_no varchar(18) COMMENT '物料类别代码',\n-- \t\ttrustdeed_no varchar(60) COMMENT '委托单号/钢铁站铁水重量',\n-- \t\tget_smp varchar(24) COMMENT '取样人',\n-- \t\tget_smp2 varchar(24) COMMENT '取样人2',\n-- \t\tsmp_site_no varchar(30) COMMENT '取样地点代码',\n-- \t\tget_smp_day varchar(24) COMMENT '取样日期',\n-- \t\tget_smp_time varchar(18) COMMENT '取样时间',\n-- \t\tsmp_sender varchar(24) COMMENT '送样人',\n-- \t\tsmp_sender2 varchar(24) COMMENT '送样人2',\n-- \t\tsmp_send_day varchar(24) COMMENT '送样日期',\n-- \t\tsmp_send_time varchar(18) COMMENT '送样时间',\n-- \t\tsmp_maker varchar(24) COMMENT '制样人(破碎缩分)',\n-- \t\tsmp_mk_date varchar(24) COMMENT '制样日期(破碎缩分)',\n-- \t\tsmp_mk_time varchar(18) COMMENT '制样时间(破碎缩分)',\n-- \t\tsmp_receiver varchar(24) COMMENT '制样接样人',\n-- \t\tuse_dept_no varchar(30) COMMENT '使用单位代码',\n-- \t\tweather varchar(30) COMMENT '天气状况',\n-- \t\tconveyance varchar(12) COMMENT '运输方式',\n-- \t\tquantity varchar(12) COMMENT '数量',\n-- \t\tmeasure_unit varchar(6) COMMENT '计量单位/钢铁站是否并罐\\'Y\\'并罐,\\'V\\'子样,\\'N\\'非并罐',\n-- \t\tvehicle1num varchar(6000) COMMENT '原始车船号',\n-- \t\tvehicle2num varchar(6000) COMMENT '转运车船号',\n-- \t\tanaly_type varchar(3) COMMENT '分析类型',\n-- \t\tsmp_type varchar(12) COMMENT '试样类型',\n-- \t\tsmp_stay_box varchar(60) COMMENT '留样盒号',\n-- \t\twater_box varchar(60) COMMENT '水分盘号',\n-- \t\tsmp_process varchar(3) COMMENT '试样进程',\n-- \t\trelat_no varchar(60) COMMENT '关联号',\n-- \t\tis_prt varchar(3) COMMENT '是否结算N结算 D 未结算默认（D）',\n-- \t\tprt_date varchar(24) COMMENT '打印日期',\n-- \t\tprt_time varchar(18) COMMENT '打印时间',\n-- \t\tprt_emp varchar(24) COMMENT '打印人',\n-- \t\tins_emp varchar(24) COMMENT '添加人',\n-- \t\tins_date varchar(24) COMMENT '添加日期',\n-- \t\tins_time varchar(18) COMMENT '添加时间',\n-- \t\tupd_emp varchar(24) COMMENT '修改人',\n-- \t\tins_shift varchar(3) COMMENT '添加人班次',\n-- \t\tjudg_day varchar(24) COMMENT '审核日期',\n-- \t\tjudg_time varchar(18) COMMENT '审核时间',\n-- \t\tmtrl_no varchar(120) COMMENT '物料牌号代码',\n-- \t\tprovid_no varchar(36) COMMENT '供应商代码',\n-- \t\tprd_area varchar(150) COMMENT '产地',\n-- \t\tjudg_desc varchar(240) COMMENT '审核结果描述',\n-- \t\tin_report varchar(3) COMMENT '炼铁新厂接口标识',\n-- \t\tin_curve varchar(3) COMMENT '能源中心接口标识',\n-- \t\tjudgeer varchar(24) COMMENT '审核人',\n-- \t\tjudg_upd varchar(24) COMMENT '审核修改人',\n-- \t\tjudge_shift varchar(3) COMMENT '审核人班次',\n-- \t\tjudge_crew varchar(3) COMMENT '审核人班别',\n-- \t\tnote varchar(300) COMMENT '备注',\n-- \t\tjudg_rst varchar(60) COMMENT '审核结果',\n-- \t\tget_smp_grp varchar(24) COMMENT '取样班组',\n-- \t\tinfo_source varchar(3) COMMENT '信息来源',\n-- \t\tflag char(3) COMMENT '完成标志',\n-- \t\tsmp_mk_std varchar(60) COMMENT '制样标准',\n-- \t\tsmp_get_std varchar(60) COMMENT '取样标准',\n-- \t\tretest_flag varchar(3) COMMENT '复样标识',\n-- \t\tjoin_virsmp char(3) COMMENT '参与虚拟样生成',\n-- \t\ttransit_no varchar(6) COMMENT '中转站',\n-- \t\tcheckno varchar(60) COMMENT '检验批号',\n-- \t\tupd_date varchar(30),\n-- \t\tupd_time varchar(30),\n-- \t\tupdate_emp varchar(24) COMMENT '修改人',\n-- \t\tget_smp_cnt varchar(3) COMMENT '第几次样',\n-- \t\timpurities_wgt decimal(8, 0) COMMENT '扣杂重量',\n-- \t\tmakecheck_flag varchar(3),\n-- \t\tjudgeer3 varchar(24) COMMENT '检测站审核人',\n-- \t\tjudg_day3 varchar(24) COMMENT '检测站审核日期',\n-- \t\tjudg_time3 varchar(18) COMMENT '检测站审核时间',\n-- \t\tshipping_company varchar(30) COMMENT '发货厂商代码',\n-- \t\tcontract_no varchar(60) COMMENT '合同号',\n-- \t\tdsc_flag varchar(3) COMMENT '判定标准，（A料号标准,B合同标准）',\n-- \t\texperiment varchar(3) COMMENT '实验',\n-- \t\tnode_type varchar(3),\n-- \t\tsmp_maker_ym varchar(24) COMMENT '研磨制样人(研磨)',\n-- \t\tsmp_mk_date_ym varchar(24) COMMENT '研磨制样日期(研磨)',\n-- \t\tsmp_mk_time_ym varchar(18) COMMENT '研磨制样时间(研磨)',\n-- \t\tsend_day varchar(24) COMMENT '发送日期(检测站送检验日期)',\n-- \t\tsend_time varchar(18) COMMENT '发送时间(检测站送检验时间)',\n-- \t\treceive_day varchar(24) COMMENT '样品接收日期(化验站接收样品日期)',\n-- \t\treceive_time varchar(18) COMMENT '样品接收时间(化验站接收样品时间)',\n-- \t\tsmp_site_area varchar(30) COMMENT '合金取样区域',\n-- \t\tsend_emp varchar(24) COMMENT '发送人员(检测站送检验人员工号)',\n-- \t\treceive_emp varchar(24) COMMENT '样品接收人员(化验站接收样品人员工号)',\n-- \t\tauto_mk varchar(60) COMMENT '制样方式（自动、手动）',\n-- \t\ttrust_lab varchar(60) COMMENT '委托实验室',\n-- \t\texpected varchar(60) COMMENT 'SiO2理论值',\n-- \t\tremark varchar(300) COMMENT '备注1',\n-- \t\twarn_date varchar(24) COMMENT '预警日期',\n-- \t\twarn_time varchar(18) COMMENT '预警时间',\n-- \t\tconfirm_date varchar(24) COMMENT '数据确认日期',\n-- \t\tconfirm_time varchar(18) COMMENT '数据确认时间',\n-- \t\tsampling_date varchar(24) COMMENT '取样确认日期',\n-- \t\tsampling_time varchar(18) COMMENT '取样确认时间',\n-- \t\tsmp_date_start varchar(24) COMMENT '取样开始日期',\n-- \t\tsmp_time_start varchar(18) COMMENT '取样开始时间',\n-- \t\tget_smp_status varchar(3) COMMENT '取样状态，0未取样，1取样开始，2取样结束',\n-- \t\tcomp_smp_flag varchar(3) COMMENT '全分析抽样标记',\n-- \t\tsam_checkno varchar(60) COMMENT '同检验批号(本试样结果用该批次检验结果)',\n-- \t\tbsamp_submat varchar(120) COMMENT '盲样分类',\n-- \t\tmk_rcv_date varchar(24) COMMENT '制样接收日期',\n-- \t\tmk_rcv_time varchar(18) COMMENT '制样接收时间',\n-- \t\tmk_upd_date varchar(24) COMMENT '制样确认日期',\n-- \t\tmk_upd_time varchar(18) COMMENT '制样确认时间',\n-- \t\tmk_upd_emp varchar(18) COMMENT '制样确认人',\n-- \t\tmk_flag varchar(6) COMMENT '制样录入确认标志',\n-- \t\twarranty_verify varchar(3) COMMENT '质保书验证',\n-- \t\tsmp_startget_day varchar(24) COMMENT '开采样机日期',\n-- \t\tsmp_startget_time varchar(24) COMMENT '开采样机时间',\n-- \t\tsmp_startget_emp varchar(24) COMMENT '开采样机人',\n-- \t\twarranty_seq varchar(60) COMMENT '质保书序号',\n-- \t\tcsr_smp_flag varchar(3) COMMENT '热强样取样标志',\n-- \t\turgent_flag varchar(6) COMMENT '加急标记',\n-- \t\tsmp_get_way varchar(6) COMMENT '取样方式',\n-- \t\tsampler_no varchar(300) COMMENT '取样人',\n-- \t\tdeviceno varchar(60) COMMENT '取样设备',\n-- \t\tlddatasstr varchar(765) COMMENT '粒度字符串',\n-- \t\tpackagingtype varchar(90) COMMENT '包装形式',\n-- \t\tetl_date DATE COMMENT 'ETL时间'\n--     )\n-- COMMENT '廉政八项-检化验系统专线-留样数据明细'\n-- PARTITIONED BY (mt STRING COMMENT '分区月份')\n-- STORED AS ORC;\nINSERT OVERWRITE TABLE\n\tdwi_qlt.dwi_qlt_lz_tis_processoverview_sampleretention PARTITION (mt = '202507')\nSELECT \n    smp_no,                 -- 样品编号\n    heat_no,                -- 炉次号\n    inspempl_no,            -- 检验站编号\n    manu_no,                -- 自编号\n    sub_mat_no,             -- 物料类别代码\n    trustdeed_no,           -- 委托单号/钢铁站铁水重量\n    get_smp,                -- 取样人\n    get_smp2,               -- 取样人2\n    smp_site_no,            -- 取样地点代码\n    get_smp_day,            -- 取样日期\n    get_smp_time,           -- 取样时间\n    smp_sender,             -- 送样人\n    smp_sender2,            -- 送样人2\n    smp_send_day,           -- 送样日期\n    smp_send_time,          -- 送样时间\n    smp_maker,              -- 制样人(破碎缩分)\n    smp_mk_date,            -- 制样日期(破碎缩分)\n    smp_mk_time,            -- 制样时间(破碎缩分)\n    smp_receiver,           -- 制样接样人\n    use_dept_no,            -- 使用单位代码\n    weather,                -- 天气状况\n    conveyance,             -- 运输方式\n    quantity,               -- 数量\n    measure_unit,           -- 计量单位/钢铁站是否并罐'Y'并罐,'V'子样,'N'非并罐\n    vehicle1num,            -- 原始车船号\n    vehicle2num,            -- 转运车船号\n    analy_type,             -- 分析类型\n    smp_type,               -- 试样类型\n    smp_stay_box,           -- 留样盒号\n    water_box,              -- 水分盘号\n    smp_process,            -- 试样进程\n    relat_no,               -- 关联号\n    is_prt,                 -- 是否结算N结算 D 未结算默认（D）\n    prt_date,               -- 打印日期\n    prt_time,               -- 打印时间\n    prt_emp,                -- 打印人\n    ins_emp,                -- 添加人\n    ins_date,               -- 添加日期\n    ins_time,               -- 添加时间\n    upd_emp,                -- 修改人\n    ins_shift,              -- 添加人班次\n    judg_day,               -- 审核日期\n    judg_time,              -- 审核时间\n    mtrl_no,                -- 物料牌号代码\n    provid_no,              -- 供应商代码\n    prd_area,               -- 产地\n    judg_desc,              -- 审核结果描述\n    in_report,              -- 炼铁新厂接口标识\n    in_curve,               -- 能源中心接口标识\n    judgeer,                -- 审核人\n    judg_upd,               -- 审核修改人\n    judge_shift,            -- 审核人班次\n    judge_crew,             -- 审核人班别\n    note,                   -- 备注\n    judg_rst,               -- 审核结果\n    get_smp_grp,            -- 取样班组\n    info_source,            -- 信息来源\n    flag,                   -- 完成标志\n    smp_mk_std,             -- 制样标准\n    smp_get_std,            -- 取样标准\n    retest_flag,            -- 复样标识\n    join_virsmp,            -- 参与虚拟样生成\n    transit_no,             -- 中转站\n    checkno,                -- 检验批号\n    upd_date,               -- 更新日期\n    upd_time,               -- 更新时间\n    update_emp,             -- 修改人\n    get_smp_cnt,            -- 第几次样\n    impurities_wgt,         -- 扣杂重量\n    makecheck_flag,         -- 制样录入确认标志\n    judgeer3,               -- 检测站审核人\n    judg_day3,              -- 检测站审核日期\n    judg_time3,             -- 检测站审核时间\n    shipping_company,       -- 发货厂商代码\n    contract_no,            -- 合同号\n    dsc_flag,               -- 判定标准，（A料号标准,B合同标准）\n    experiment,             -- 实验\n    node_type,              -- 节点类型\n    smp_maker_ym,           -- 研磨制样人(研磨)\n    smp_mk_date_ym,        -- 研磨制样日期(研磨)\n    smp_mk_time_ym,        -- 研磨制样时间(研磨)\n    send_day,               -- 发送日期(检测站送检验日期)\n    send_time,              -- 发送时间(检测站送检验时间)\n    receive_day,            -- 样品接收日期(化验站接收样品日期)\n    receive_time,           -- 样品接收时间(化验站接收样品时间)\n    smp_site_area,          -- 合金取样区域\n    send_emp,               -- 发送人员(检测站送检验人员工号)\n    receive_emp,            -- 样品接收人员(化验站接收样品人员工号)\n    auto_mk,                -- 制样方式（自动、手动）\n    trust_lab,              -- 委托实验室\n    expected,               -- SiO2理论值\n    remark,                 -- 备注1\n    warn_date,              -- 预警日期\n    warn_time,              -- 预警时间\n    confirm_date,           -- 数据确认日期\n    confirm_time,           -- 数据确认时间\n    sampling_date,          -- 取样确认日期\n    sampling_time,          -- 取样确认时间\n    smp_date_start,         -- 取样开始日期\n    smp_time_start,         -- 取样开始时间\n    get_smp_status,         -- 取样状态，0未取样，1取样开始，2取样结束\n    comp_smp_flag,          -- 全分析抽样标记\n    sam_checkno,            -- 同检验批号(本试样结果用该批次检验结果)\n    bsamp_submat,           -- 盲样分类\n    mk_rcv_date,            -- 制样接收日期\n    mk_rcv_time,            -- 制样接收时间\n    mk_upd_date,            -- 制样确认日期\n    mk_upd_time,            -- 制样确认时间\n    mk_upd_emp,             -- 制样确认人\n    mk_flag,                -- 制样录入确认标志\n    warranty_verify,        -- 质保书验证\n    smp_startget_day,       -- 开采样机日期\n    smp_startget_time,      -- 开采样机时间\n    smp_startget_emp,       -- 开采样机人\n    warranty_seq,           -- 质保书序号\n    csr_smp_flag,           -- 热强样取样标志\n    urgent_flag,            -- 加急标记\n    smp_get_way,            -- 取样方式\n    sampler_no,             -- 取样人\n    deviceno,               -- 取样设备\n    lddatasstr,             -- 粒度字符串\n    packagingtype,          -- 包装形式\n    CURRENT_DATE()            -- 当前日期\nFROM \n    dwi_qlt.dwi_qlt_tx_sampinfo_lz\n    LIMIT 10\n    -- WHERE \n    ; -- 表名\n",
	"currentDatabase":"dwi_qlt",
	"description":"",
	"directory":"/廉政专项/检化验/明细表",
	"name":"etl_dwi_lz_tis_processoverview_sampleretention",
	"templateVersion":"1.0",
	"type":"SparkSQL"
}