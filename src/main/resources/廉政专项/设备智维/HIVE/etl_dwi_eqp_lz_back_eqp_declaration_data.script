{
	"configuration":{},
	"connectionName":"MRS_Spark_Agent",
	"content":"-- SPARK sql \n-- ******************************************************************** --\n-- author: jh_zhaochenlong\n-- create time: 2025/05/26 13:04:52 GMT+08:00\n-- descr: 廉政八项-设备智维专线-备品备件申报信息明细表\n-- ******************************************************************** --\n-- CREATE TABLE\n-- \tdwi_eqp.dwi_eqp_lz_back_eqp_declaration_data (\n-- \t\tid STRING COMMENT '主键',\n-- \t\tspare_apply_no STRING COMMENT '申报单号',\n-- \t\tmaterial_no STRING COMMENT '料号',\n-- \t\tplan_category STRING COMMENT '计划类别',\n-- \t\tplan_category_sec STRING COMMENT '计划细类',\n-- \t\tflow_name STRING COMMENT '模板名称',\n-- \t\tflow_node STRING COMMENT '节点状态',\n-- \t\tthree_year_use STRING COMMENT '三年使用量',\n-- \t\tdiff_erp_dept STRING COMMENT '跨厂申报ERP部门',\n-- \t\tref_no_a STRING COMMENT '记账编号',\n-- \t\tref_no_b STRING COMMENT '工程立项号',\n-- \t\tref_no_c STRING COMMENT '工程合约号',\n-- \t\tref_no_d STRING COMMENT '厂商编号',\n-- \t\tdiff_dept STRING COMMENT '跨厂申报部门',\n-- \t\tdiff_comp_id STRING COMMENT '调整的公司别',\n-- \t\tsend_check_time STRING COMMENT '送审时间',\n-- \t\tpurpose STRING COMMENT '用途别',\n-- \t\tuse_dept STRING COMMENT '用料单位',\n-- \t\tplan_date STRING COMMENT '计划年月',\n-- \t\tapply_quantity DECIMAL(20, 3) COMMENT '申请数量',\n-- \t\tuse_date STRING COMMENT '使用日期',\n-- \t\tlast_month_quantity DECIMAL(20, 3) COMMENT '上月领用量',\n-- \t\ttotal_store_quantity DECIMAL(20, 3) COMMENT '库存数量(总库)',\n-- \t\tside_new_quantity DECIMAL(20, 3) COMMENT '机旁数量(新品)',\n-- \t\tside_repare_quantity DECIMAL(20, 3) COMMENT '机旁数量(维修)',\n-- \t\ton_way_quantity DECIMAL(20, 3) COMMENT '在途量',\n-- \t\tno_contract_quantity DECIMAL(20, 3) COMMENT '未形成合同量',\n-- \t\tsuggest_quantity DECIMAL(20, 3) COMMENT '建议申报量',\n-- \t\tuse_life DECIMAL(20, 3) COMMENT '使用寿命',\n-- \t\tupdate_vesion STRING COMMENT '版本',\n-- \t\tupdate_type STRING COMMENT '修改类型',\n-- \t\tparent_id STRING COMMENT '父ID',\n-- \t\tapply_status STRING COMMENT '申报状态',\n-- \t\tdemand_plan_id STRING COMMENT '需求计划ID',\n-- \t\tcreate_user_no STRING COMMENT '创建人',\n-- \t\tcreate_date_time STRING COMMENT '创建时间',\n-- \t\tupdate_user_no STRING COMMENT '修改人',\n-- \t\tupdate_date_time STRING COMMENT '修改时间',\n-- \t\tcompany_id STRING COMMENT '公司ID',\n-- \t\ti_level STRING COMMENT '优先级',\n-- \t\tstatus DECIMAL(1, 0) COMMENT '状态(0可用_1不可用)',\n-- \t\tbuy_type STRING COMMENT '采购类型',\n-- \t\tdevice_id STRING COMMENT '所属设备_数组',\n-- \t\tdemand_type STRING COMMENT '需求计划类型',\n-- \t\tcreate_user_dept STRING COMMENT '创建者部门',\n-- \t\tflow_id STRING COMMENT '流程ID',\n-- \t\ttype_one STRING COMMENT '类型一(备件-材料)',\n-- \t\ttype_two STRING COMMENT '类型二(ABC分类)',\n-- \t\tis_mro DECIMAL(1, 0) COMMENT '是否mro(0否_1是)',\n-- \t\tis_zero DECIMAL(1, 0) COMMENT '是否零库存(0否_1是)',\n-- \t\tmro_type STRING COMMENT 'mro拆分后类型(老计划-零库存)',\n-- \t\told_id STRING COMMENT 'mro拆分前id',\n-- \t\trequirement STRING COMMENT '采购要求',\n-- \t\tmatl_category STRING COMMENT '材料类别',\n-- \t\tis_ct_device STRING COMMENT '是否成套设备',\n-- \t\tct_device_person STRING COMMENT '成套设备验收人',\n-- \t\testimate_price DECIMAL(20, 3) COMMENT '预估价格',\n-- \t\tis_place_order DECIMAL(1, 0) COMMENT '是否已下单(0否_1是)',\n-- \t\terp_plan_no STRING COMMENT 'ERP需求计划号',\n-- \t\tdemand_plan_no STRING COMMENT '需求计划号',\n-- \t\tis_special STRING COMMENT '是否特种设备',\n-- \t\tcreate_user_factory STRING COMMENT '创建者生产厂',\n-- \t\tprovider_no STRING COMMENT '供应商编码',\n-- \t\tprovider_name STRING COMMENT '供应商名称',\n-- \t\tnotificate_no STRING COMMENT '中标文号',\n-- \t\tproj_no STRING COMMENT '项目号',\n-- \t\textra_info STRING COMMENT '退回原因',\n-- \t\terp_err_info STRING COMMENT '提交ERP错误提示',\n-- \t\tis_clzz DECIMAL COMMENT '是否测量装置(0否1是)',\n-- \t\tRANGE STRING COMMENT '量程',\n-- \t\taccuracy STRING COMMENT '准确度',\n-- \t\tmeasure_req STRING COMMENT '测量要求',\n-- \t\tis_zzb_first DECIMAL(1, 0) COMMENT '是否制造部首检(0否1是)',\n-- \t\tis_need_qrcode DECIMAL(1, 0) COMMENT '是否需要二维码(0否1是)',\n-- \t\tcost_center STRING COMMENT '成本中心',\n-- \t\tseq_no STRING COMMENT '零库存或mro标识id',\n-- \t\tpurchaser STRING COMMENT '采购员',\n-- \t\tcontacts STRING COMMENT '现场联系人',\n-- \t\tmro_id STRING COMMENT 'id(mro计划特定字段)',\n-- \t\tis_d_s_mro DECIMAL(1, 0) COMMENT '是否电商mro(0否1是)',\n-- \t\tthird_sku_id STRING COMMENT '第三方商品编码(电商mro)',\n-- \t\tsku_name STRING COMMENT '第三方商品名称(电商mro)',\n-- \t\tarrival_time STRING COMMENT '到货时间(格式yyyymmdd)',\n-- \t\tplan_no STRING COMMENT '电商预订单单号',\n-- \t\tdelivery_date STRING COMMENT '交货日期',\n-- \t\tis_print_qrcode DECIMAL(20, 3) COMMENT '是否需要打印二维码',\n-- \t\tis_batch_qrcode DECIMAL(20, 3) COMMENT '是否产生批二维码'\n-- \t) COMMENT '廉政八项-设备智维专线-备品备件申报信息表' STORED AS orc TBLPROPERTIES (\"orc.compress\" = \"SNAPPY\");\nINSERT OVERWRITE TABLE\n\tdwi_eqp.dwi_eqp_lz_back_eqp_declaration_data\nSELECT\n\tid, -- 主键\n\tspare_apply_no, -- 申报单号\n\tmaterial_no, -- 料号\n\tplan_category, -- 计划类别\n\tplan_category_sec, -- 计划细类\n\tflow_name, -- 模板名称\n\tflow_node, -- 节点状态\n\tthree_year_use, -- 三年使用量\n\tdiff_erp_dept, -- 跨厂申报ERP部门\n\tref_no_a, -- 记账编号\n\tref_no_b, -- 工程立项号\n\tref_no_c, -- 工程合约号\n\tref_no_d, -- 厂商编号\n\tdiff_dept, -- 跨厂申报部门\n\tdiff_comp_id, -- 调整的公司别\n\tsend_check_time, -- 送审时间\n\tpurpose, -- 用途别\n\tuse_dept, -- 用料单位\n\tplan_date, -- 计划年月\n\tapply_quantity, -- 申请数量\n\tuse_date, -- 使用日期\n\tlast_month_quantity, -- 上月领用量\n\ttotal_store_quantity, -- 库存数量(总库)\n\tside_new_quantity, -- 机旁数量(新品)\n\tside_repare_quantity, -- 机旁数量(维修)\n\ton_way_quantity, -- 在途量\n\tno_contract_quantity, -- 未形成合同量\n\tsuggest_quantity, -- 建议申报量\n\tuse_life, -- 使用寿命\n\tupdate_vesion, -- 版本\n\tupdate_type, -- 修改类型\n\tparent_id, -- 父ID\n\tapply_status, -- 申报状态\n\tdemand_plan_id, -- 需求计划ID\n\tcreate_user_no, -- 创建人\n\tcreate_date_time, -- 创建时间\n\tupdate_user_no, -- 修改人\n\tupdate_date_time, -- 修改时间\n\tcompany_id, -- 公司ID\n\ti_level, -- 优先级\n\tstatus, -- 状态(0可用_1不可用)\n\tbuy_type, -- 采购类型\n\tdevice_id, -- 所属设备_数组\n\tdemand_type, -- 需求计划类型\n\tcreate_user_dept, -- 创建者部门\n\tflow_id, -- 流程ID\n\ttype_one, -- 类型一(备件-材料)\n\ttype_two, -- 类型二(ABC分类)\n\tis_mro, -- 是否mro(0否_1是)\n\tis_zero, -- 是否零库存(0否_1是)\n\tmro_type, -- mro拆分后类型(老计划-零库存)\n\told_id, -- mro拆分前id\n\trequirement, -- 采购要求\n\tmatl_category, -- 材料类别\n\tis_ct_device, -- 是否成套设备\n\tct_device_person, -- 成套设备验收人\n\testimate_price, -- 预估价格\n\tis_place_order, -- 是否已下单(0否_1是)\n\terp_plan_no, -- ERP需求计划号\n\tdemand_plan_no, -- 需求计划号\n\tis_special, -- 是否特种设备\n\tcreate_user_factory, -- 创建者生产厂\n\tprovider_no, -- 供应商编码\n\tprovider_name, -- 供应商名称\n\tnotificate_no, -- 中标文号\n\tproj_no, -- 项目号\n\textra_info, -- 退回原因\n\terp_err_info, -- 提交ERP错误提示\n\tis_clzz, -- 是否测量装置(0否1是)\n\tRANGE, -- 量程\n\taccuracy, -- 准确度\n\tmeasure_req, -- 测量要求\n\tis_zzb_first, -- 是否制造部首检(0否1是)\n\tis_need_qrcode, -- 是否需要二维码(0否1是)\n\tcost_center, -- 成本中心\n\tseq_no, -- 零库存或mro标识id\n\tpurchaser, -- 采购员\n\tcontacts, -- 现场联系人\n\tmro_id, -- id(mro计划特定字段)\n\tis_d_s_mro, -- 是否电商mro(0否1是)\n\tthird_sku_id, -- 第三方商品编码(电商mro)\n\tsku_name, -- 第三方商品名称(电商mro)\n\tarrival_time, -- 到货时间(格式yyyymmdd)\n\tplan_no, -- 电商预订单单号\n\tdelivery_date, -- 交货日期\n\tis_print_qrcode, -- 是否需要打印二维码\n\tis_batch_qrcode -- 是否产生批二维码\nFROM\n\tdwi_eqp.dwi_eqp_mh_demand_apply_detail;",
	"currentDatabase":"dwi_prd",
	"description":"",
	"directory":"/廉政专项/设备智维/HIVE",
	"name":"etl_dwi_eqp_lz_back_eqp_declaration_data",
	"owner":"jh_zhaochenlong",
	"templateVersion":"1.0",
	"type":"SparkSQL"
}